{"version":3,"sources":["components/Footer.jsx","components/Header.jsx","components/Alert.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Shop.jsx","config.js","App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Date","getFullYear","href","target","rel","Header","id","Alert","props","displayName","closeAlert","Function","prototype","useEffect","timerId","setTimeout","clearTimeout","Cart","quantity","onClick","handleCartShow","class","CartItem","mainId","removeProductFromCart","price","minusAmount","plusAmount","CartList","totalPrice","order","reduce","sum","el","length","map","item","GoodsItem","displayDescription","regularPrice","src","displayAssets","full_background","alt","addToCart","GoodsList","goods","Preloader","Shop","useState","setGoods","loading","setLoading","setOrder","isCartShow","setCartShow","alertDisplayName","setAlertDisplayName","fetch","headers","Authorization","process","then","response","json","data","shop","catch","err","console","error","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filteredItems","filter","newQuantity","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.287c9219.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Footer = () => {\n    return (\n        <footer className=\"page-footer purple lighten-2\">\n            <div className=\"footer-copyright\">\n                <div className=\"container\">\n                    © {new Date().getFullYear()} Copyright Text\n                    <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/Franel-create/fortnite-shop\" target='_blank' rel='noreferrer' >Repo</a>\n                </div>\n            </div>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from \"react\";\n\nconst Header = () => {\n    return (\n        <nav className='nav-header purple lighten-2'>\n            <div className=\"nav-wrapper\">\n                <a href=\"#\" className=\"brand-logo\">Fortnite shop</a>\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                    <li><a href=\"https://github.com/Franel-create/fortnite-shop\" target='_blank' rel='noreferrer' >Repo</a></li>\n                </ul>\n            </div>\n        </nav>\n    )\n}\n\nexport default Header;","import React, {useEffect} from \"react\";\n\nconst Alert = (props) => {\n    const {displayName = '', closeAlert = Function.prototype} = props;\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 3000);\n\n        return () => {\n            clearTimeout(timerId);\n        }\n    }, [displayName]);\n\n    return <div id='toast-container'>\n        <div className='toast'>{displayName} добавлен в корзину</div>\n    </div>\n}\n\nexport default Alert;","import React from \"react\";\n\nconst Cart = (props) => {\n    const {quantity = 0} = props;\n\n    return <div className='cart purple lighten-2' onClick={props.handleCartShow}>\n        <i class=\"material-icons\">shopping_cart</i>\n        {quantity ? <span className='cart-quantity'>{quantity}</span> : null }\n    </div>\n}\n\nexport default Cart;","import React from \"react\";\n\nconst CartItem = (props) => {\n    const {mainId, quantity, displayName, removeProductFromCart = Function.prototype} = props;\n    const price = props.price;\n\n    return <div>\n        <li className=\"collection-item\">\n            {displayName} x \n            <button className='btn-amount' onClick={() => {props.minusAmount(mainId)}}>-</button>\n                {quantity}\n            <button className='btn-amount' onClick={() => {props.plusAmount(mainId)}}>+</button>\n            = {price * quantity} руб\n            <span class=\"secondary-content\" onClick={() => {removeProductFromCart(mainId)}}>\n                <i class=\"material-icons item-close\">close</i>\n            </span>\n        </li>\n    </div>\n}\n\nexport default CartItem;","import React from \"react\";\nimport CartItem from \"./CartItem\";\n\nconst CartList = (props) => {\n    const totalPrice = props.order.reduce((sum, el) => {\n        return sum + el.price * el.quantity\n    }, 0); \n\n    return <ul className=\"collection cart-list\">\n        <li className=\"collection-item active\">Корзина</li>\n            {\n                props.order.length ? props.order.map(item => \n                <CartItem key={item.id} {...item} removeProductFromCart={props.removeProductFromCart}\n                                                plusAmount={props.plusAmount}\n                                                minusAmount={props.minusAmount}\n                                               />) \n                :  <li className=\"collection-item\">Корзина пуста</li>\n            }\n        <li className=\"collection-item active\">Общая стоимость: {totalPrice} руб.</li>\n        <button className='secondary-content btn-small btn-buy'>Оформить заказ</button>\n        <i className='material-icons cart-close' onClick={props.handleCartShow}>close</i>\n      </ul>\n}\n \nexport default CartList;","import React from \"react\";\n\nconst GoodsItem = (props) => {\n    const {mainId, displayName, displayDescription} = props;\n    const price = props.price.regularPrice;\n\n    return <div>\n            <div className=\"card\" id={mainId}>\n                <div className=\"card-image waves-effect waves-block waves-light\">\n                    <img className=\"activator\" src={props.displayAssets[0].full_background} alt={displayName}/>\n                </div>\n                <div className=\"card-content\">\n                    <span className=\"card-title activator grey-text text-darken-4\">{displayName}</span>\n                    <div className='description'>{displayDescription}</div>\n                    <p className='price-block'>\n                        <button className='btn' onClick={() => props.addToCart({mainId, displayName, price})}>Купить</button>\n                        <span className='price'>{price}</span>\n                    </p>\n                </div>\n            </div>\n    </div>\n}\n\nexport default GoodsItem;\n\n\n// src={props.displayAssets.full_background}","import React from \"react\";\nimport GoodsItem from \"./GoodsItem\";\n\nconst GoodsList = (props) => {\n    const {goods = [], addToCart = Function.prototype} = props;\n\n    if (!goods.length) {\n        return <h3>Try again</h3>\n    } \n\n    return <div className='goods grid-cards'>\n     {goods.map(item => (\n         <GoodsItem key={item.id} {...item} addToCart={addToCart}/>\n     ))}\n    </div>\n\n    \n}\n\nexport default GoodsList;","import React from \"react\";\n\nconst Preloader = () => {\n    return <div>\n        <div className=\"progress\">\n            <div className=\"indeterminate\"></div>\n        </div>\n    </div>\n}\n\nexport default Preloader;","import React, {useState, useEffect} from \"react\";\nimport { API_KEY, API_URL } from \"../config\";\nimport Alert from \"./Alert\";\nimport Cart from \"./Cart\";\nimport CartList from \"./CartList\";\nimport GoodsList from \"./GoodsList\";\nimport Preloader from \"./Preloader\";\n\nconst Shop = () => {\n    const [goods, setGoods] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [order, setOrder] = useState([]);\n    const [isCartShow, setCartShow] = useState(false);\n    const [alertDisplayName, setAlertDisplayName] = useState('');\n\n    const addToCart = (item) => {\n        const itemIndex = order.findIndex((orderItem) => orderItem.mainId === item.mainId);\n\n        if ( itemIndex < 0) {\n            const newItem = {\n                ...item,\n                quantity: 1\n            }\n            setOrder([...order, newItem])\n        } else {\n            const newOrder = order.map((orderItem, index) => {\n                if(index === itemIndex){\n                    return {\n                        ...orderItem,\n                        quantity: orderItem.quantity + 1\n                    }\n                } else {\n                    return orderItem;\n                }\n            });\n        setOrder(newOrder);\n        }\n        setAlertDisplayName(item.displayName);\n    }\n\n    const handleCartShow = () => {\n        setCartShow(!isCartShow);\n    }\n\n    const removeProductFromCart = (itemId) => {\n        const filteredItems = order.filter((el) => el.mainId !== itemId);\n        setOrder(filteredItems);\n      }\n\n    const plusAmount = (mainId) => {\n        const newOrder = order.map(orderItem => {\n            if (orderItem.mainId === mainId) {\n                return {\n                    ...orderItem,\n                    quantity: orderItem.quantity + 1\n                } \n            } else {\n                return orderItem;\n            }\n        });\n        setOrder(newOrder);\n    }\n\n    const minusAmount = (mainId) => {\n        const newOrder = order.map(orderItem => {\n            const newQuantity = orderItem.quantity - 1;\n            if (orderItem.mainId === mainId) {\n                return {\n                    ...orderItem,\n                    quantity: newQuantity >= 0 ? newQuantity : 0\n                } \n            } else {\n                return orderItem;\n            }\n        });\n        setOrder(newOrder);\n    }\n\n    const closeAlert = () => {\n        setAlertDisplayName('');\n    }\n \n    useEffect(function getGoods() {\n        fetch(API_URL, {\n            headers: {\n                Authorization: API_KEY\n            }\n        })\n        .then(response => response.json())\n        .then(\n            (data) => {\n                data.shop && setGoods(data.shop);\n                setLoading(false);\n            })\n        .catch((err) => {\n            console.error(err);\n            setLoading(false);\n        })\n    }, []);\n\n    return (\n        <main className='container content'>\n            <Cart quantity={order.length} \n                handleCartShow={handleCartShow}/>\n            {loading ? <Preloader/> : <GoodsList goods={goods} \n                                                addToCart={addToCart}/>}\n            {isCartShow && <CartList order={order} \n                                    handleCartShow={handleCartShow} \n                                    removeProductFromCart={removeProductFromCart}\n                                    plusAmount={plusAmount}\n                                    minusAmount={minusAmount}/>}\n            {\n                alertDisplayName && <Alert displayName={alertDisplayName}\n                                        closeAlert={closeAlert}/>\n            }\n        </main>\n    )\n}\n\nexport default Shop;","export const API_KEY = process.env.REACT_APP_API_KEY;\n\nexport const API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\n\n","import './App.css';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport Shop from './components/Shop';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Shop />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}